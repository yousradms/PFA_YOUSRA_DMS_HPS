openapi: 3.0.3
info:
  title: Payment Instrument API documentation
  description: |
    Payment Instrument and Cardholder operation management include APIs for Payment Instrument maintenance, Payment instrument operations, and Status operation.
  version: PowerCARD-Issuer 3.5.4-apiR5.3
servers:
- url: ${sandbox.backend.connectApiUrl}/rest
  description: Development server
security:
- bearerAuth: [
    ]
paths:
  /ApplePayEncryption/V2:
    post:
      tags:
      - Apple Pay Encryption
      summary: 'Apple Pay  Encryption '
      description: Apple Pay  Encryption Web WebService
      operationId: applepayencryption_35Post
      requestBody:
        description: ApplePayEncryption Request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApplePayEncryptionV35Rq'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ApplePayEncryptionV35Rs'
          description: Default response for 200
      servers:
      - url: /PowerCardConnectApi/rest
        variables: {
          }
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: |
        <div>
          <h5>Api key authorization</h5>
          <p>JWT authorization header using Bearer scheme. Example: "Authorization: Bearer {token}"</p>
          <table>
            <tr><td>Name:</td><td>Authorization</td></tr>
            <tr><td>In:</td><td>Header</td></tr>
          </table>
        </div>
  schemas:
    ApplePayEncryptionV35Rq:
      required:
      - requestInfo
      type: object
      properties:
        requestInfo:
          $ref: '#/components/schemas/RequestInfo'
        unencryptedPassData:
          $ref: '#/components/schemas/ApplePayUnencryptedPassDataV35'
        appleCertificate:
          type: string
          xml:
            name: AppleCertificate
        cardScheme:
          type: string
          xml:
            name: CardScheme
    ApplePayEncryptionV35Rs:
      required:
      - responseInfo
      type: object
      properties:
        responseInfo:
          $ref: '#/components/schemas/ResponseInfo'
        encryptedPassData:
          $ref: '#/components/schemas/ApplePayEncryptedPassDataV35'
        cardScheme:
          type: string
          xml:
            name: CardScheme
    ResponseInfo:
      required:
      - errorCode
      - errorDescription
      - responseUID
      - resultID
      type: object
      properties:
        responseUID:
          type: string
          xml:
            name: ResponseUID
        resultID:
          type: string
          xml:
            name: ResultID
          enum:
          - ProceedWithSuccess
          - ProceedWithSuccessMC
          - Error
          - SystemError
        errorCode:
          type: string
          xml:
            name: ErrorCode
        errorDescription:
          type: string
          xml:
            name: ErrorDescription
    ApplePayUnencryptedPassDataV35:
      type: object
      properties:
        cardholderName:
          type: string
        primaryAccountNumber:
          type: string
        expirationDate:
          type: string
        nonce:
          type: string
          xml:
            name: Nonce
        nonceSignature:
          type: string
          xml:
            name: NonceSignature
        CardholderName:
          type: string
        PrimaryAccountNumber:
          type: string
        ExpirationDate:
          type: string
    KeyValueV35:
      required:
      - data
      - key
      type: object
      properties:
        key:
          maxLength: 30
          minLength: 0
          pattern: ^[a-zA-Z0-9-#$_@&*.%+\s\/]*$
          type: string
          xml:
            name: Key
        data:
          maxLength: 64
          minLength: 0
          pattern: ^[a-zA-Z0-9-#$_@&*.%+\s\/]*$
          type: string
          xml:
            name: Data
        type:
          pattern: ^[A-Za-z0-9]*$
          type: string
          xml:
            name: Type
    ApplePayEncryptedPassDataV35:
      type: object
      properties:
        ephemeralPublickey:
          type: string
          xml:
            name: EphemeralPublickey
        activationData:
          type: string
          xml:
            name: ActivationData
        encryptedData:
          type: string
          xml:
            name: EncryptedData
    RequestInfo:
      required:
      - requestDate
      - requestUID
      type: object
      properties:
        requestUID:
          pattern: ^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$
          type: string
          xml:
            name: RequestUID
        userID:
          maxLength: 15
          minLength: 0
          pattern: ^[a-zA-Z0-9-#$_@&*.%+\s\/]*$
          type: string
          xml:
            name: UserID
        requestDate:
          type: string
          format: date-time
          xml:
            name: RequestDate
